<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <script>
        function List(){
            this.listSize = 0;
            this.pos = 0;
            this.dataStore = [];
            this.clear = clear;
            this.find = find;
            this.toString = toString;
            this.insert = insert;
            this.append = append;
            this.remove = remove;
            this.front = front;
            this.end = end;
            this.prev = prev;
            this.next = next;
            this.hasNext = hasNext;
            this.hasPrev = hasPrev;
            this.length = length;
            this.currPos = currPos;
            this.moveTo = moveTo;
            this.getElement = getElement;
            this.contains = contains;
            // append  该方法给列表的下一个位置增加一个新元素 这个位置刚好等于变量listSize的值
            function append(element){
                this.dataStore[this.listSize++] = element;
            }
            // find 
            function find(element){
                for(var i = 0;i<this.dataStore.length;i++){
                    if(this.dataStore[i]==element){
                        return i;
                    }
                }
                return -1;
            }
            // remove
            function remove(element){
                var foundAt = this.find(element);
                if(foundAt>-1){
                    this.dataStore.splice(foundAt,1);
                    --this.listSize;
                    return true;
                }
                return false;
            }
            // length
            function length(){
                return this.listSize;
            }
            // toString
            function toString(){
                return this.dataStore;
            }
            // insert
            function insert(element,after){
                var insertPos = this.find(after);
                if(insertPos>-1){
                    this.dataStore.splice(insertPos+1,0,element);
                    ++this.listSize;
                    return true;
                }
                return false;
            }
            // clear
            function clear(){
                delete this.dataStore;
                this.dataStore.length = 0;
                this.listSize = this.pos = 0;
            };
            // contains
            function contains(element){
                for (let i = 0; i < this.dataStore.length; i++) {
                    if(this.dataStore[i]==element){
                        return true;
                    }
                }
                return false;
            }
            function front(){
                this.pos = 0;
            }
            function end(){
                this.pos = this.listSize-1;
            }
            function prev(){
                if(this.pos>0){
                    --this.pos;
                }
            }
            function next(){
                if(this.pos<this.listSize){
                    ++this.pos
                }
            }
            function currPos(){
                return this.pos;
            }
            function moveTo(n){
                this.pos = n;
            }
            function getElement(){
                return this.dataStore[this.pos];
            }
            function hasNext(){
                return this.pos<this.listSize-1;
            }
            function hasPrev(){
                return this.pos>0;
            }
        };
        
        var n = new List;

        n.append('1');
        n.append('2');
        n.append('3');
        n.append('4');
        n.append('5');
        n.append('6');
        n.append('7');
        n.append('8');

        console.log(n.hasPrev())
        n.next()
        console.log(n.hasPrev())
        console.log(n.getElement())
        console.log(n.currPos())
        
    </script>
</body>
</html>